## 编号2063:分配给商店的最多商品的最小值

给你一个整数 n ，表示有 n 间零售商店。总共有 m 种产品，每种产品的数目用一个下标从 0 开始的整数数组 quantities 表示，其中 quantities[i] 表示第 i 种商品的数目。

你需要将 所有商品 分配到零售商店，并遵守这些规则：

一间商店 至多 只能有 一种商品 ，但一间商店拥有的商品数目可以为 任意 件。
分配后，每间商店都会被分配一定数目的商品（可能为 0 件）。用 x 表示所有商店中分配商品数目的最大值，你希望 x 越小越好。也就是说，你想 最小化 分配给任意商店商品数目的 最大值 。
请你返回最小的可能的 x 。

 

示例 1：
```
输入：n = 6, quantities = [11,6]
输出：3
解释： 一种最优方案为：
- 11 件种类为 0 的商品被分配到前 4 间商店，分配数目分别为：2，3，3，3 。
- 6 件种类为 1 的商品被分配到另外 2 间商店，分配数目分别为：3，3 。
分配给所有商店的最大商品数目为 max(2, 3, 3, 3, 3, 3) = 3 。
```
示例 2：
```
输入：n = 7, quantities = [15,10,10]
输出：5
解释：一种最优方案为：
- 15 件种类为 0 的商品被分配到前 3 间商店，分配数目为：5，5，5 。
- 10 件种类为 1 的商品被分配到接下来 2 间商店，数目为：5，5 。
- 10 件种类为 2 的商品被分配到最后 2 间商店，数目为：5，5 。
分配给所有商店的最大商品数目为 max(5, 5, 5, 5, 5, 5, 5) = 5 。
```
示例 3：
```
输入：n = 1, quantities = [100000]
输出：100000
解释：唯一一种最优方案为：
- 所有 100000 件商品 0 都分配到唯一的商店中。
分配给所有商店的最大商品数目为 max(100000) = 100000 。 
```
提示：

* m == quantities.length
* 1 <= m <= n <= 105
* 1 <= quantities[i] <= 105

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/minimized-maximum-of-products-distributed-to-any-store
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。

---
## 思路

二分选取一个$mid$作为答案，检查$mid$是否合法。

由于商品必须分配完成不能剩余 且 每个商店只能分配一种商品。

则为每一个商店都分配$mid$件商品，有三种情况：

令

$$cnt = \sum_{k=0}^nquantities_k / mid$$

代表 对每个商店都分配$mid$商品可以满足多少个商店

$$f(k)=\begin{cases}1, quantities_k \bmod mid \neq 0 \cr 0, quantities_k \bmod mid = 0\end{cases}, mod = \sum_{k=0}^nf(k)$$


代表 对$cnt$个商店都分配$mid$个商品后，还剩余$mod$种商品没有分配完

* $cnt > n$ 说明足够对每个商店分配 $mid$ 商品，但是一定存在剩余，不合法。
* $cnt=n$ 说明足够对每个商店分配 $mid$ 商品，但必须满足没有剩余 即 mod = 0
* $cnt < n$说明不能对每个商店都分配 $mid$ 商品，但剩余的商品种类必须满足未能分配的商店 即 $mod = n - cnt$。我们可以把所有剩下的商品恰好都分配到剩余的商店中 且 每种剩余的商品数量一定小于$mid$。

总和所有条件，满足

$$cnt + mod \leq n$$


即

$$\sum_{k=0}^n\lceil quantities_k / mid \rceil \leq n$$

我们使用二分求得满足此条件的下界即可。

代码如下：
```c++

```